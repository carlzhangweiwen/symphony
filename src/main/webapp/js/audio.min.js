var Audio={availabel:!1,wavFileBlob:null,recorderObj:null,init:function(){function e(e){console.log("getUserMedia->failure(): ERROR: Microphone access request failed!");var o,r="PermissionDeniedError",i="DevicesNotFoundError";switch(console.log(e),console.log(e.name),e.name){case r:o=Label.recordDeniedLabel;break;case i:o=Label.recordDeviceNotFoundLabel;break;default:o="ERROR: The following unexpected error occurred while attempting to connect to your microphone: "+e.name}console.log("getUserMedia->failure(): "+o),alert(o)}function o(e){console.log("getUserMedia->success(): Microphone access request was successful!");var o=2048,r=PredefinedRecordingModes.MONO_5_KHZ,i=r.getSampleRate(),n=r.getChannelCount();console.log("getUserMedia->success(): Detecting window audio context.");var s=new BrowserWindowAudioContextDetection;if(!s.windowAudioContextSupported()){var t="Unable to detect window audio context, cannot continue.";return console.log("getUserMedia->success(): "+t),void alert(t)}console.log("getUserMedia->success(): Window audio context supported.");var d=s.getWindowAudioContextMethod();console.log("getUserMedia->success(): Window audio context method: "+d),console.log("getUserMedia->success(): Creating recorder object."),Audio.recorderObj=new SoundRecorder(d,o,i,n),console.log("getUserMedia->success(): Initializing recorder object."),Audio.recorderObj.init(e),console.log("getUserMedia->success(): Assigning onaudioprocess event function."),Audio.recorderObj.recorder.onaudioprocess=function(e){if(Audio.recorderObj.isRecording()){var o=e.inputBuffer.getChannelData(0),r=e.inputBuffer.getChannelData(1);Audio.recorderObj.cloneChannelData(o,r),console.log("SoundRecorder.recorder.onaudioprocess: Saving audio data...")}},console.log("getUserMedia->success(): Recorder object successfully created and initialized."),console.log("getUserMedia->success(): Recorder object ready status: "+Audio.recorderObj.isReady()),Audio.availabel=!0}var r=new BrowserGetUserMediaDetection;console.log("Get user media supported: "+r.getUserMediaSupported()),r.getUserMediaSupported()?(console.log("Get user media is supported!"),console.log("Supported get user media method: "+r.getUserMediaMethod()),console.log("Assigning get user media method."),navigator.getUserMedia=r.getUserMediaMethod(),console.log("Requesting microphone access from browser."),navigator.getUserMedia({audio:!0},o,e)):(console.log("ERROR: getUserMedia not supported by browser."),alert("Your browser does not appear to support audio recording."))},handleStartRecording:function(){console.log("Starting new recording..."),Audio.recorderObj.startRecordingNewWavFile()},handleStopRecording:function(){console.log("Stopping recording."),Audio.recorderObj.stopRecording(),console.log("Building wav file."),Audio.wavFileBlob=Audio.recorderObj.buildWavFileBlob()}};